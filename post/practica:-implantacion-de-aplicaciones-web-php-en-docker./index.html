<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    
    <meta itemprop="name" content="Práctica: Implantación de aplicaciones web PHP en docker. | Cutreblog">
    <meta itemprop="description" content="Práctica 1 de docker.">

    
    <meta name="twitter:title" content="Práctica: Implantación de aplicaciones web PHP en docker. | Cutreblog">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="Práctica 1 de docker.">
    <meta name="twitter:site" content="@ReeseCodes">
    <meta name="twitter:creator" content="@ReeseCodes">
    <meta name="twitter:image:src" content="https://reeseschultz.github.io/twitter.jpg">

    
    <meta name="og:title" content="Práctica: Implantación de aplicaciones web PHP en docker. | Cutreblog">
    <meta name="og:description" content="Práctica 1 de docker.">
    <meta name="og:image" content="https://reeseschultz.github.io/og.jpg">
    <meta name="og:url" content="https://reeseschultz.github.io/">
    <meta name="og:site_name" content="Cutreblog">
    <meta name="og:locale" content="en_GB">
    <meta name="og:type" content="website">

    <link rel="icon" type="image/x-icon" href="/logo.png" />

    <title>Práctica: Implantación de aplicaciones web PHP en docker. | Cutreblog</title>

    <link rel="stylesheet" href="/assets/main.bundle.css">

    
  </head>
  <body class="flex flex-col min-h-screen">
    <header>
  <nav class="container mx-auto max-w-3xl px-8 pt-2 flex flex-wrap justify-between">
    <div>
      <h1>
        <a href="/">Cutreblog</a>
      </h1>
      <p>Blog de Alejandro Montes</p>
    </div>

    <ul class="flex flex-wrap sm:w-32 w-full mt-6 md:justify-between justify-evenly">
      <li>
        <a href="/404.html">404</a>
      </li>

      <li>
        <a href="/about">Sobre mí.</a>
      </li>
    </ul>
  </nav>
</header>

    <main class="container mx-auto max-w-3xl p-8 grow">
      
    <p></p>
    <div>
        <h2>Práctica: Implantación de aplicaciones web PHP en docker.</h2>

        
            <p class="excerpt">Práctica 1 de docker.</p>
        

        
            <div class="mb-2">
                <a class="tag IAW" href="/tag/IAW">IAW</a>
            </div>
        

        
            
                <p class="text-sm italic">Creado en
                    <span datetime="Thu Feb 16 2023 01:00:00 GMT+0100 (hora estándar de Europa central)">February 16, 2023</span>.</p>
            
        

        <div class="content post">
            
                <hr />

                <h3>Tabla de Contenido.</h3>

                <nav class="toc">
                <ol>
                    
                    <li><a href="#creaci%C3%B3n-de-una-imagen-docker-con-una-aplicaci%C3%B3n-web-desde-una-imagen-base.">Creación de una imagen docker con una aplicación web desde una imagen base.</a>
            		</li>

                    <li><a href="#despliegue-en-el-entorno-de-desarrollo.">Despliegue en el entorno de desarrollo.</a>
            		</li>

                    <li><a href="#creaci%C3%B3n-de-una-imagen-docker-con-una-aplicaci%C3%B3n-web-desde-una-imagen-php.">Creación de una imagen docker con una aplicación web desde una imagen PHP.</a>
            		</li>

                    <li><a href="#ejecuci%C3%B3n-de-una-aplicaci%C3%B3n-php-en-docker-con-nginx-(optativa).">Ejecución de una aplicación PHP en docker con nginx (OPTATIVA).</a>
            		</li>

                    <li><a href="#puesta-en-producci%C3%B3n-de-nuestra-aplicaci%C3%B3n.">Puesta en producción de nuestra aplicación.</a>
            		</li>

                    <li><a href="#modificaci%C3%B3n-de-la-aplicaci%C3%B3n.">Modificación de la aplicación.</a>
            		</li>
                </ol>
            </nav>

                <hr />
            

            <p>Imaginemos que el equipo de desarrollo de nuestra empresa ha desarrollado una aplicación PHP que se llama BookMedik (<a href="https://github.com/evilnapsis/bookmedik">https://github.com/evilnapsis/bookmedik</a>).</p>
<p>Queremos crear una imagen Docker para implantar dicha aplicación.</p>
<p>Tenemos que tener en cuenta los siguientes aspectos:</p>
<p><strong>Contenedor mariadb</strong></p>
<ul>
<li>Es necesario que nuestra aplicación guarde su información en un contenedor docker mariadb.</li>
<li>El script para generar la base de datos y los registros lo encuentras en el repositorio y se llama schema.sql. Debes crear un usuario con su contraseña en la base de datos. La base de datos se llama bookmedik y se crea al ejecutar el script.</li>
<li>Ejecuta el contenedor mariadb y carga los datos del script schema.sql. Para más información.</li>
<li>El contenedor mariadb debe tener un volumen para guardar la base de datos.</li>
</ul>
<p><strong>Contenedor bookmedik</strong></p>
<ul>
<li>Vamos a crear tres versiones de la imagen que nos permite implantar la aplicación PHP.</li>
<li>La imagen debe crear las variables de entorno necesarias con datos de conexión por defecto.</li>
<li>Al crear un contenedor a partir de estas imágenes se ejecutará un script bash que realizará las siguientes tareas:
<ul>
<li>Modifique el fichero core\controller\Database.php para que lea las variables de entorno. Para obtener las variables de entorno en PHP usar la función getenv. Para más información.</li>
<li>Inicialice la base de datos con el fichero schema.sql.</li>
<li>Ejecute el servidor web.</li>
</ul>
</li>
<li>El contenedor que creas debe tener un volumen para guardar los logs del servidor web.</li>
<li>La imagen la tienes que crear en tu entorno de desarrollo con el comando docker build.</li>
</ul>
<hr>
<p>Lo primero que haremos será crear un contenedor con la imagen de mariadb con las variables de entorno que nos han indicado y crearemos una nueva red para la aplicación web.</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica$ docker network create red_bookmedik<br>f5873a0d59ee09ca18fed495a0cdae9b9dbd4251e926ee083c77cd906a696b86<br>usuario@debian:~/docker/practica$ docker run -d --name bd_mariadb -v bookmedik_vol:/var/lib/mysql --network red_bookmedik -e MARIADB_ROOT_PASSWORD=root -e MARIADB_DATABASE=bookmedik -e MARIADB_USER=bookmedik -e MARIADB_PASSWORD=bookmedik mariadb<br>fcc6779f9140829742d3db89892d38d5103a31902001090fb8901fd1fe690669</code></pre>
<h3 id="creaci%C3%B3n-de-una-imagen-docker-con-una-aplicaci%C3%B3n-web-desde-una-imagen-base." tabindex="-1">Creación de una imagen docker con una aplicación web desde una imagen base.</h3>
<ul>
<li><strong>Vamos a crear una imagen que se llame usuario/bookmedik:v1.</strong></li>
</ul>
<p>En primer lugar, haremos un fork al repositorio de bookmedik y lo clonaremos a nuestro equipo. Editaremos el fichero schema.sql y quitaremos las siguientes líneas:</p>
<pre class="language-txt"><code class="language-txt">create database bookmedik;<br>use bookmedik;</code></pre>
<p>Ahora, modificaremos el fichero <code>Database.php</code> para que se configure con las variables de entorno que indicamos al crear el contenedor.</p>
<p>la ruta es la siguiente:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica/bookmedik$ nano core/controller/Database.php</code></pre>
<p>El fichero queda de la siguiente manera:</p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token keyword">class</span> <span class="token class-name-definition class-name">Database</span> <span class="token punctuation">{</span><br>        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token variable">$db</span><span class="token punctuation">;</span><br>        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token variable">$con</span><span class="token punctuation">;</span><br>        <span class="token keyword">function</span> <span class="token function-definition function">Database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>                <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">user</span><span class="token operator">=</span><span class="token function">getenv</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'USUARIO_BOOKMEDIK'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">pass</span><span class="token operator">=</span><span class="token function">getenv</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'CONTRA_BOOKMEDIK'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">host</span><span class="token operator">=</span><span class="token function">getenv</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'DATABASE_HOST'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">ddbb</span><span class="token operator">=</span><span class="token function">getenv</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'NOMBRE_DB'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token keyword">function</span> <span class="token function-definition function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>                <span class="token variable">$con</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mysqli</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">host</span><span class="token punctuation">,</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">user</span><span class="token punctuation">,</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">pass</span><span class="token punctuation">,</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">ddbb</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                <span class="token variable">$con</span><span class="token operator">-></span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"set sql_mode=''"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                <span class="token keyword">return</span> <span class="token variable">$con</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">getCon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$con</span><span class="token operator">==</span><span class="token constant">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$db</span><span class="token operator">==</span><span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>                        <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$db</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                        <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$con</span> <span class="token operator">=</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$db</span><span class="token operator">-></span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                <span class="token punctuation">}</span><br>                <span class="token keyword">return</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$con</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><span class="token delimiter important">?></span></span></code></pre>
<p>Una vez hecho esto, ya podremos crear el Dockerfile con el que crearemos la imagen.</p>
<ul>
<li><strong>Crea una imagen docker con la aplicación desde una imagen base de debian o ubuntu.</strong></li>
</ul>
<p>El contenido del Dockerfile es el siguiente:</p>
<pre class="language-txt"><code class="language-txt">FROM debian:bullseye<br>MAINTAINER Alejandro Montes "alejandro@alejandro-montes.es"<br>RUN apt update &amp;&amp; apt upgrade -y &amp;&amp; apt install apache2 libapache2-mod-php php php-mysql mariadb-client -y &amp;&amp; apt clean &amp;&amp; rm -rf /var/lib/apt/lists/*<br>ADD bookmedik /var/www/html/<br>ADD script.sh /opt/<br>RUN chmod +x /opt/script.sh &amp;&amp; rm /var/www/html/index.html<br>ENTRYPOINT ["/opt/script.sh"]</code></pre>
<p>Como vemos, el Dockerfile ejecuta un script, el contenido del script es el siguiente:</p>
<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#! /bin/sh</span><br><br>mysql -u <span class="token variable">$USUARIO_BOOKMEDIK</span> --password<span class="token operator">=</span><span class="token variable">$CONTRA_BOOKMEDIK</span> -h <span class="token variable">$DATABASE_HOST</span> <span class="token variable">$NOMBRE_DB</span> <span class="token operator">&lt;</span> /var/www/html/schema.sql<br><br>/usr/sbin/apache2ctl -D FOREGROUND</code></pre>
<p>Una vez hecho esto, ya podemos crear la imagen:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica$ docker build -t alemd01/bookmedik:v1 .<br>Sending build context to Docker daemon   5.78MB<br>Step 1/7 : FROM debian:bullseye<br>bullseye: Pulling from library/debian<br>1e4aec178e08: Pull complete <br>Digest: sha256:43ef0c6c3585d5b406caa7a0f232ff5a19c1402aeb415f68bcd1cf9d10180af8<br>Status: Downloaded newer image for debian:bullseye<br> ---> 54e726b437fb<br>Step 2/7 : MAINTAINER Alejandro Montes "alejandro@alejandro-montes.es"<br> ---> Running in 1647cfd1e95c<br>Removing intermediate container 1647cfd1e95c<br> ---> a59b1bdf1432<br>Step 3/7 : RUN apt update &amp;&amp; apt upgrade -y &amp;&amp; apt install apache2 libapache2-mod-php php php-mysql mariadb-client -y &amp;&amp; apt clean &amp;&amp; rm -rf /var/lib/apt/lists/*<br> ---> Running in 0f4011dfed2b</code></pre>
<p>Como podemos ver la imagen se ha creado correctamente:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica$ docker images<br>REPOSITORY                TAG          IMAGE ID       CREATED          SIZE<br>alemd01/bookmedik         v1           d30f6251c040   14 minutes ago   302MB<br>debian                    bullseye     54e726b437fb   10 days ago      124MB<br>alemd01/mi_servidor_web   v2           4c59dc832620   12 days ago      239MB<br>alemd01/mi_servidor_web   v1           b1421e4328a1   12 days ago      239MB<br>nextcloud                 latest       2af5f013b660   2 weeks ago      1.02GB<br>debian                    latest       20473158e8b3   2 weeks ago      124MB<br>mariadb                   10.5         817e0c16a766   2 weeks ago      402MB<br>mariadb                   latest       039bd724508b   2 weeks ago      410MB<br>httpd                     2.4          6e794a483258   4 weeks ago      145MB<br>ubuntu                    latest       6b7dfa7e8fdb   2 months ago     77.8MB<br>php                       7.4-apache   20a3732f422b   3 months ago     453MB<br>hello-world               latest       feb5d9fea6a5   17 months ago    13.3kB</code></pre>
<h3 id="despliegue-en-el-entorno-de-desarrollo." tabindex="-1">Despliegue en el entorno de desarrollo.</h3>
<ul>
<li><strong>Crea un script con docker-compose que levante el escenario con los dos contenedores.</strong></li>
<li><strong>Recuerda que para acceder a la aplicación: Usuario: admin, contraseña: admin.</strong></li>
</ul>
<p>Vamos a crear el fichero docker-compose con la configuración necesaria para levantar los dos contenedores:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.1'</span><br><span class="token key atrule">services</span><span class="token punctuation">:</span><br>  <span class="token key atrule">bookmedik</span><span class="token punctuation">:</span><br>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> bookmedik<span class="token punctuation">-</span>app<br>    <span class="token key atrule">image</span><span class="token punctuation">:</span> alemd01/bookmedik<span class="token punctuation">:</span>v1<br>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always<br>    <span class="token key atrule">environment</span><span class="token punctuation">:</span><br>      <span class="token key atrule">USUARIO_BOOKMEDIK</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">CONTRA_BOOKMEDIK</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">DATABASE_HOST</span><span class="token punctuation">:</span> bd_mariadb<br>      <span class="token key atrule">NOMBRE_DB</span><span class="token punctuation">:</span> bookmedik<br>    <span class="token key atrule">ports</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> 8081<span class="token punctuation">:</span><span class="token number">80</span><br>    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> db<br>  <span class="token key atrule">db</span><span class="token punctuation">:</span><br>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> bd_mariadb<br>    <span class="token key atrule">image</span><span class="token punctuation">:</span> mariadb<br>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always<br>    <span class="token key atrule">environment</span><span class="token punctuation">:</span><br>      <span class="token key atrule">MARIADB_ROOT_PASSWORD</span><span class="token punctuation">:</span> root<br>      <span class="token key atrule">MARIADB_DATABASE</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">MARIADB_USER</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">MARIADB_PASSWORD</span><span class="token punctuation">:</span> bookmedik<br>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> mariadb_data<span class="token punctuation">:</span>/var/lib/mysql<br><span class="token key atrule">volumes</span><span class="token punctuation">:</span><br>    <span class="token key atrule">mariadb_data</span><span class="token punctuation">:</span></code></pre>
<p>Levantamos los contenedores:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica$ docker-compose up -d<br>Creating bd_mariadb ... done<br>Creating bookmedik-app ... done</code></pre>
<p>Muestro que están creados:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica$ docker ps<br>CONTAINER ID   IMAGE                  COMMAND                  CREATED          STATUS          PORTS                  NAMES<br>5cc92c18f18c   alemd01/bookmedik:v1   "/opt/script.sh"         11 minutes ago   Up 11 minutes   0.0.0.0:8081->80/tcp   bookmedik-app<br>9045e0b5dd8a   mariadb                "docker-entrypoint.s…"   11 minutes ago   Up 11 minutes   3306/tcp               bd_mariadb</code></pre>
<p>Muestro que la aplicación funciona:</p>
<p><img src="/img/IAW-P7-T1.1.png" alt="IAW-P7-T1.1.png"></p>
<h3 id="creaci%C3%B3n-de-una-imagen-docker-con-una-aplicaci%C3%B3n-web-desde-una-imagen-php." tabindex="-1">Creación de una imagen docker con una aplicación web desde una imagen PHP.</h3>
<ul>
<li><strong>Vamos a crear una imagen que se llame usuario/bookmedik:v2.</strong></li>
<li><strong>Realiza la imagen docker de la aplicación a partir de la imagen oficial PHP que encuentras en docker hub. Lee la documentación de la imagen para configurar una imagen con apache2 y php, además seguramente tengas que instalar alguna extensión de php.</strong></li>
<li><strong>Modifica el fichero docker-compose.yml` para probar esta imagen.</strong></li>
</ul>
<p>Adjunto el Dockerfile:</p>
<pre class="language-txt"><code class="language-txt">FROM php:7.4-apache-bullseye<br>MAINTAINER Alejandro Montes Delgado "aaleemd11@gmail.com"<br>RUN apt update &amp;&amp; apt upgrade -y &amp;&amp; docker-php-ext-install mysqli pdo pdo_mysql &amp;&amp; apt install mariadb-client -y &amp;&amp; apt clean &amp;&amp; rm -rf /var/lib/apt/lists/*<br>ADD bookmedik /var/www/html/<br>ADD script.sh /opt/<br>RUN chmod +x /opt/script.sh<br>ENTRYPOINT ["/opt/script.sh"]</code></pre>
<p>Creamos la imagen nueva:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica/tarea3$ docker build -t alemd01/bookmedik:v2 .Sending build context to Docker daemon   5.78MB<br>Step 1/7 : FROM php:7.4-apache-bullseye<br>7.4-apache-bullseye: Pulling from library/php<br>Digest: sha256:c9d7e608f73832673479770d66aacc8100011ec751d1905ff63fae3fe2e0ca6d<br>Status: Downloaded newer image for php:7.4-apache-bullseye<br> ---> 20a3732f422b<br>Step 2/7 : MAINTAINER Alejandro Montes Delgado "aaleemd11@gmail.com"<br> ---> Running in 8a5fb4ef6046<br>Removing intermediate container 8a5fb4ef6046<br> ---> 62d2489e4625<br>Step 3/7 : RUN apt update &amp;&amp; apt upgrade -y &amp;&amp; docker-php-ext-install mysqli pdo pdo_mysql &amp;&amp; apt install mariadb-client -y &amp;&amp; apt clean &amp;&amp; rm -rf /var/lib/apt/lists/*<br> ---> Running in 50204a750e86</code></pre>
<p>Ahora en el docker-compose cambiamos la version a v2:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.1'</span><br><span class="token key atrule">services</span><span class="token punctuation">:</span><br>  <span class="token key atrule">bookmedik</span><span class="token punctuation">:</span><br>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> bookmedik<span class="token punctuation">-</span>app<br>    <span class="token key atrule">image</span><span class="token punctuation">:</span> alemd01/bookmedik<span class="token punctuation">:</span>v2<br>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always<br>    <span class="token key atrule">environment</span><span class="token punctuation">:</span><br>      <span class="token key atrule">USUARIO_BOOKMEDIK</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">CONTRA_BOOKMEDIK</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">DATABASE_HOST</span><span class="token punctuation">:</span> bd_mariadb<br>      <span class="token key atrule">NOMBRE_DB</span><span class="token punctuation">:</span> bookmedik<br>    <span class="token key atrule">ports</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> 8081<span class="token punctuation">:</span><span class="token number">80</span><br>    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> db<br>  <span class="token key atrule">db</span><span class="token punctuation">:</span><br>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> bd_mariadb<br>    <span class="token key atrule">image</span><span class="token punctuation">:</span> mariadb<br>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always<br>    <span class="token key atrule">environment</span><span class="token punctuation">:</span><br>      <span class="token key atrule">MARIADB_ROOT_PASSWORD</span><span class="token punctuation">:</span> root<br>      <span class="token key atrule">MARIADB_DATABASE</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">MARIADB_USER</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">MARIADB_PASSWORD</span><span class="token punctuation">:</span> bookmedik<br>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> mariadb_data<span class="token punctuation">:</span>/var/lib/mysql<br><span class="token key atrule">volumes</span><span class="token punctuation">:</span><br>    <span class="token key atrule">mariadb_data</span><span class="token punctuation">:</span></code></pre>
<p>Levantamos los contenedores(tenemos que borrar los contenedores anteriores si no se han borrado):</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica/tarea3$ docker-compose up -d<br>Creating bd_mariadb ... done<br>Creating bookmedik-app ... done</code></pre>
<p>Compruebo que los contenedores se han creado correctamente:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica/tarea3$ docker ps<br>CONTAINER ID   IMAGE                  COMMAND                  CREATED              STATUS              PORTS                  NAMES<br>27288d25383b   alemd01/bookmedik:v2   "/opt/script.sh"         About a minute ago   Up About a minute   0.0.0.0:8081->80/tcp   bookmedik-app<br>17cb7aba76cd   mariadb                "docker-entrypoint.s…"   About a minute ago   Up About a minute   3306/tcp               bd_mariadb</code></pre>
<p>Accedo nuevamente a bookmedik:</p>
<p><img src="/img/IAW-P7-T1.2.png" alt="IAW-P7-T1.2.png"></p>
<h3 id="ejecuci%C3%B3n-de-una-aplicaci%C3%B3n-php-en-docker-con-nginx-(optativa)." tabindex="-1">Ejecución de una aplicación PHP en docker con nginx (OPTATIVA).</h3>
<ul>
<li><strong>Vamos a crear una imagen que se llame usuario/bookmedik:v3.</strong></li>
<li><strong>En este caso queremos usar un contenedor que utilice nginx para servir la aplicación PHP. Puedes crear la imagen desde una imagen base debian o ubuntu o desde la imagen oficial de nginx.</strong></li>
<li><strong>Vamos a crear otro contenedor que sirva php-fpm.</strong></li>
<li><strong>Para que funcione de forma adecuada el php-fpm tiene que tener acceso al directorio donde se encuentra la aplicación.</strong></li>
<li><strong>Y finalmente nuestro contenedor con la aplicación.</strong></li>
<li><strong>Crea un script con docker compose que levante el escenario con los tres contenedores.</strong></li>
</ul>
<p>Primero creamos el dockerfile para construir la imagen de php:</p>
<pre class="language-txt"><code class="language-txt">FROM php:7.3-fpm-bullseye<br>MAINTAINER Alejandro Montes Delgado "aaleemd11@gmail.com"<br>RUN docker-php-ext-install mysqli pdo pdo_mysql</code></pre>
<p>Construimos la imagen:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica/tarea3$ docker build -t alemd01/bookmedik:v2 .Sending build context to Docker daemon   5.78MB<br>Step 1/7 : FROM php:7.4-apache-bullseye<br>7.4-apache-bullseye: Pulling from library/php<br>Digest: sha256:c9d7e608f73832673479770d66aacc8100011ec751d1905ff63fae3fe2e0ca6d<br>Status: Downloaded newer image for php:7.4-apache-bullseye<br> ---> 20a3732f422b<br>Step 2/7 : MAINTAINER Alejandro Montes Delgado "aaleemd11@gmail.com"<br> ---> Running in 8a5fb4ef6046<br>Removing intermediate container 8a5fb4ef6046<br> ---> 62d2489e4625<br>Step 3/7 : RUN apt update &amp;&amp; apt upgrade -y &amp;&amp; docker-php-ext-install mysqli pdo pdo_mysql &amp;&amp; apt install mariadb-client -y &amp;&amp; apt clean &amp;&amp; rm -rf /var/lib/apt/lists/*<br> ---> Running in 50204a750e86</code></pre>
<p>Editamos el Dockerfile principal y le indicamos que use nginx:</p>
<pre class="language-txt"><code class="language-txt">FROM nginx<br>MAINTAINER Alejandro Montes Delgado "aaleemd11@gmail.com"<br>RUN apt update &amp;&amp; apt upgrade -y &amp;&amp; apt install mariadb-client -y &amp;&amp; apt clean &amp;&amp; rm -rf /var/lib/apt/lists/*<br>ADD default.conf /etc/nginx/conf.d/<br>ADD bookmedik /usr/share/nginx/html<br>ADD script.sh /opt/<br>RUN chmod +x /opt/script.sh &amp;&amp; rm /usr/share/nginx/html/index.html<br>ENTRYPOINT ["/opt/script.sh"]</code></pre>
<p>como vemos usamos un archivo llamado default.conf que el contenido de este es el siguiente:</p>
<pre class="language-txt"><code class="language-txt">server {<br>    listen       80;<br>    listen  [::]:80;<br>    server_name  localhost;<br>    error_log  /var/log/nginx/error.log;<br>    access_log /var/log/nginx/access.log;<br>    root   /usr/share/nginx/html;<br>    index  index.php index.html;<br><br>    location ~ \.php$ {<br>        try_files $uri =404;<br>        fastcgi_split_path_info ^(.+\.php)(/.+)$;<br>        fastcgi_pass book_php:9000;<br>        fastcgi_index index.php;<br>        include fastcgi_params;<br>        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;<br>        fastcgi_param PATH_INFO $fastcgi_path_info;<br>    }<br>}</code></pre>
<p>Construimos la versión v3:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica/tarea4$ docker build -t alemd01/bookmedik:v3 .<br>Sending build context to Docker daemon  5.785MB<br>Step 1/8 : FROM nginx<br> ---> 3f8a00f137a0<br>Step 2/8 : MAINTAINER Alejandro Montes Delgado "aaleemd11@gmail.com"<br> ---> Using cache<br> ---> 5003e9296a56<br>Step 3/8 : RUN apt update &amp;&amp; apt upgrade -y &amp;&amp; apt install mariadb-client -y &amp;&amp; apt clean &amp;&amp; rm -rf /var/lib/apt/lists/*<br> ---> Using cache<br> ---> cc58e7491e69<br>Step 4/8 : ADD default.conf /etc/nginx/conf.d/<br> ---> 03e22295770f<br>Step 5/8 : ADD bookmedik /usr/share/nginx/html<br> ---> 806c1cfea3f6<br>Step 6/8 : ADD script.sh /opt/<br> ---> d087dc05e59f</code></pre>
<h3 id="puesta-en-producci%C3%B3n-de-nuestra-aplicaci%C3%B3n." tabindex="-1">Puesta en producción de nuestra aplicación.</h3>
<ul>
<li><strong>Elige una de las tres imágenes y súbela a Docker Hub.</strong></li>
</ul>
<p>He elegido la versión v2, realizamos un docker push para subir la imagen:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica$ docker push alemd01/bookmedik:v2<br>The push refers to repository [docker.io/alemd01/bookmedik]<br>b29d0d6e7e6e: Pushed <br>1da8c39d9650: Pushed <br>57f2b3e3056d: Pushed <br>9a664d5dd358: Pushed <br>3d33242bf117: Mounted from library/php <br>529016396883: Mounted from library/php <br>5464bcc3f1c2: Mounted from library/php <br>28192e867e79: Mounted from library/php <br>d173e78df32e: Mounted from library/php <br>0be1ec4fbfdc: Mounted from library/php <br>30fa0c430434: Mounted from library/php <br>a538c5a6e4e0: Mounted from library/php <br>e5d40f64dcb4: Mounted from library/php <br>44148371c697: Mounted from library/php <br>797a7c0590e0: Mounted from library/php <br>f60117696410: Mounted from library/php <br>ec4a38999118: Mounted from library/php <br>v2: digest: sha256:f12b29054e777e6b27a0672dfed50d4e8b752837c1d355db6a0e6cb8faded808 size: 3872</code></pre>
<p>En nuestro proveedor de DNS, registramos un nuevo subdominio para bookmedik:</p>
<p><img src="/img/IAW-P7-T1.3.png" alt="IAW-P7-T1.3.png"></p>
<p>Ahora en el vps creamos un certificado para ese subdominio:</p>
<pre class="language-txt"><code class="language-txt">root@nabil:~# certbot certonly --standalone -d bookmedik.alejandro-montes.es<br>Saving debug log to /var/log/letsencrypt/letsencrypt.log<br>Plugins selected: Authenticator standalone, Installer None<br>Attempting to parse the version 1.32.2 renewal configuration file found at /etc/letsencrypt/renewal/mail.alejandro-montes.es.conf with version 1.12.0 of Certbot. This might not work.<br>Requesting a certificate for bookmedik.alejandro-montes.es<br>Performing the following challenges:<br>http-01 challenge for bookmedik.alejandro-montes.es<br>Waiting for verification...<br>Cleaning up challenges<br><br>IMPORTANT NOTES:<br> - Congratulations! Your certificate and chain have been saved at:<br>   /etc/letsencrypt/live/bookmedik.alejandro-montes.es/fullchain.pem<br>   Your key file has been saved at:<br>   /etc/letsencrypt/live/bookmedik.alejandro-montes.es/privkey.pem<br>   Your certificate will expire on 2023-05-25. To obtain a new or<br>   tweaked version of this certificate in the future, simply run<br>   certbot again. To non-interactively renew *all* of your<br>   certificates, run "certbot renew"<br> - If you like Certbot, please consider supporting our work by:<br><br>   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate<br>   Donating to EFF:                    https://eff.org/donate-le<br></code></pre>
<ul>
<li><strong>En tu VPS instala Docker y utilizando el docker-compose.yml correspondiente, crea un contenedor en ella de la aplicación.</strong></li>
</ul>
<p>Ahora procederemos a la instalación de docker y docker-compose:</p>
<pre class="language-txt"><code class="language-txt">alemd@nabil:~$ sudo apt install docker.io docker-compose<br>Reading package lists... Done<br>Building dependency tree... Done<br>Reading state information... Done<br>The following packages were automatically installed and are no longer required:<br>  libevent-2.1-7 libgnutls-dane0 libunbound8<br>Use 'sudo apt autoremove' to remove them.<br>The following additional packages will be installed:<br>  cgroupfs-mount containerd libintl-perl libintl-xs-perl<br>  libmodule-find-perl libmodule-scandeps-perl libproc-processtable-perl<br>  libsort-naturally-perl libyaml-0-2 needrestart python3-attr<br>  python3-cached-property python3-docker python3-dockerpty<br>  python3-docopt python3-importlib-metadata python3-jsonschema<br>  python3-more-itertools python3-pyrsistent python3-texttable<br>  python3-websocket python3-yaml python3-zipp runc tini<br>Suggested packages:<br>  containernetworking-plugins docker-doc aufs-tools btrfs-progs<br>  debootstrap rinse rootlesskit xfsprogs zfs-fuse | zfsutils-linux<br>  needrestart-session | libnotify-bin iucode-tool python-attr-doc<br>  python-jsonschema-doc<br>Recommended packages:<br>  criu</code></pre>
<p>creamos el siguiente docker-compose para levantar el escenario:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.1'</span><br><span class="token key atrule">services</span><span class="token punctuation">:</span><br>  <span class="token key atrule">bookmedik</span><span class="token punctuation">:</span><br>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> bookmedik<span class="token punctuation">-</span>app<br>    <span class="token key atrule">image</span><span class="token punctuation">:</span> alemd01/bookmedik<span class="token punctuation">:</span>v2<br>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always<br>    <span class="token key atrule">environment</span><span class="token punctuation">:</span><br>      <span class="token key atrule">USUARIO_BOOKMEDIK</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">CONTRA_BOOKMEDIK</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">DATABASE_HOST</span><span class="token punctuation">:</span> bd_mariadb<br>      <span class="token key atrule">NOMBRE_DB</span><span class="token punctuation">:</span> bookmedik<br>    <span class="token key atrule">ports</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> 8088<span class="token punctuation">:</span><span class="token number">80</span><br>    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> db<br>  <span class="token key atrule">db</span><span class="token punctuation">:</span><br>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> bd_mariadb<br>    <span class="token key atrule">image</span><span class="token punctuation">:</span> mariadb<br>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always<br>    <span class="token key atrule">environment</span><span class="token punctuation">:</span><br>      <span class="token key atrule">MARIADB_ROOT_PASSWORD</span><span class="token punctuation">:</span> root<br>      <span class="token key atrule">MARIADB_DATABASE</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">MARIADB_USER</span><span class="token punctuation">:</span> bookmedik<br>      <span class="token key atrule">MARIADB_PASSWORD</span><span class="token punctuation">:</span> bookmedik<br>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> mariadb_data<span class="token punctuation">:</span>/var/lib/mysql<br><span class="token key atrule">volumes</span><span class="token punctuation">:</span><br>    <span class="token key atrule">mariadb_data</span><span class="token punctuation">:</span><br></code></pre>
<p>Simplemente he cambiado el puerto porque ya está en uso. Ahora levantamos el escenario:</p>
<pre class="language-txt"><code class="language-txt">root@nabil:/home/alemd/docker# docker-compose up -d<br>Creating network "docker_default" with the default driver<br>Creating volume "docker_mariadb_data" with default driver<br>Pulling db (mariadb:)...<br>latest: Pulling from library/mariadb<br>10ac4908093d: Pulling fs layer<br>44779101e748: Downloading [=====================>                         10ac4908093d: Downloading [>                                              10ac4908093d: Downloading [=====================>                             ]   12.8MB/30.43MB<br>10ac4908093d: Downloading [===============================================10ac4908093d: Download complete<br>10ac4908093d: Extracting [>                                                  ]  327.7kB/30.43MBd complete<br><br>10ac4908093d: Extracting [====>                                              ]  2.621MB/30.43MBd complete<br><br>86f876b891f6: Downloading [>                                              10ac4908093d: Extracting [======>                                            ]  3.932MB/30.43MBding [==========>                                    10ac4908093d: Pull complete<br>44779101e748: Pull complete<br>a721db3e3f3d: Pull complete<br>1850a929b84a: Pull complete<br>c3aa31fb301e: Pull complete<br>86f876b891f6: Pull complete<br>fe3602f5cecf: Pull complete<br>8fe289a9f834: Pull complete<br>Digest: sha256:dd0f492b6b6e7bb4aa707181b799d4efe42cb3a9f6012ec3dbaf326d402151e8<br>Status: Downloaded newer image for mariadb:latest<br>Creating bd_mariadb ... done<br>Creating bookmedik-app ... done</code></pre>
<ul>
<li><strong>Configura el nginx de tu VPS para que haga de proxy inverso y nos permita acceder a la aplicación con <a href="https://bookmedik.tudominio.xxx">https://bookmedik.tudominio.xxx</a>.</strong></li>
</ul>
<p>Ahora tendremos que configurar un virtualhost en nuestro vps:</p>
<pre class="language-txt"><code class="language-txt">root@nabil:~# nano /etc/nginx/sites-available/bookmedik</code></pre>
<p>El contenido del fichero es el siguiente:</p>
<pre class="language-txt"><code class="language-txt">server {<br>        listen 80;<br>        listen [::]:80;<br><br>        server_name bookmedik.alejandro-montes.es;<br><br>        return 301 https://$host$request_uri;<br>}<br><br>server {<br>        listen 443 ssl http2;<br>        listen [::]:443 ssl http2;<br><br>        ssl    on;<br>        ssl_certificate /etc/letsencrypt/live/bookmedik.alejandro-montes.es/fullchain.pem;<br>        ssl_certificate_key     /etc/letsencrypt/live/bookmedik.alejandro-montes.es/privkey.pem;<br><br>        index index.html index.php index.htm index.nginx-debian.html;<br><br>        server_name bookmedik.alejandro-montes.es;<br><br>        location / {<br>                proxy_pass http://localhost:8088;<br>                include proxy_params;<br>        }<br><br>}</code></pre>
<p>Una vez creado el virtualhost, tenemos que crear el enlace simbólico:</p>
<pre class="language-txt"><code class="language-txt">root@nabil:~# ln -s /etc/nginx/sites-available/bookmedik /etc/nginx/sites-enabled/bookmedik</code></pre>
<p>Lo que queda, es reiniciar nginx y probar que funciona:</p>
<pre class="language-txt"><code class="language-txt">root@nabil:~# systemctl restart nginx</code></pre>
<p><img src="/img/IAW-P7-T1.4.png" alt="IAW-P7-T1.4.png"></p>
<h3 id="modificaci%C3%B3n-de-la-aplicaci%C3%B3n." tabindex="-1">Modificación de la aplicación.</h3>
<ul>
<li><strong>En el entorno de desarrollo vamos a hacer una modificación de la aplicación. Por ejemplo modifica el fichero core/app/view/login-view.php y pon tu nombre en la línea <code>&lt;h4 class=&quot;title&quot;&gt;Acceder a BookMedik&lt;/h4&gt;</code>.</strong></li>
<li><strong>Vamos a trabajar con la primera imagen que construimos. Vuelve a crear la imagen con la etiqueta v1_2.</strong></li>
<li><strong>Cambia el docker-compose para probar el cambio.</strong></li>
<li><strong>Modifica la aplicación en producción.</strong></li>
</ul>
<p>Lo primero que haremos será editar el fichero login-view.php y la línea tiene que quedar de la siguiente forma:</p>
<pre class="language-php"><code class="language-php">      <span class="token operator">&lt;</span>h4 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"title"</span><span class="token operator">></span>Alejandro Montes delgado<span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">></span></code></pre>
<p>Construimos nuevamente la imagen con la etiqueta v1_2:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica/tarea5$ docker build -t alemd01/bookmedik:v1_2 .<br>Sending build context to Docker daemon  5.782MB<br>Step 1/7 : FROM debian:bullseye<br> ---> 54e726b437fb<br>Step 2/7 : MAINTAINER Alejandro Montes "alejandro@alejandro-montes.es"<br> ---> Using cache<br> ---> 6170a85f83e3<br>Step 3/7 : RUN apt update &amp;&amp; apt upgrade -y &amp;&amp; apt install apache2 libapache2-mod-php php php-mysql mariadb-client -y &amp;&amp; apt clean &amp;&amp; rm -rf /var/lib/apt/lists/*<br> ---> Using cache<br> ---> c2019c7047c1<br>Step 4/7 : ADD bookmedik /var/www/html/<br> ---> 943a8e7040b8<br>Step 5/7 : ADD script.sh /opt/<br> ---> 9aa836a5e135<br>Step 6/7 : RUN chmod +x /opt/script.sh &amp;&amp; rm /var/www/html/index.html<br> ---> Running in e0df57437824<br>Removing intermediate container e0df57437824<br> ---> a9a6a4b3f1f6<br>Step 7/7 : ENTRYPOINT ["/opt/script.sh"]<br> ---> Running in eea03e1f5bce<br>Removing intermediate container eea03e1f5bce<br> ---> 9bc356ec059d<br>Successfully built 9bc356ec059d<br>Successfully tagged alemd01/bookmedik:v1_2</code></pre>
<p>Modificamos el docker compose para aplicar el cambio solo tenemos que cambiar la etiqueta y poner la nueva:</p>
<pre class="language-txt"><code class="language-txt">    image: alemd01/bookmedik:v1_2</code></pre>
<p>Levantamos el escenario en desarrollo aún:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica/tarea5$ docker-compose up -d<br>Creating bd_mariadb ... done<br>Creating bookmedik-app ... done</code></pre>
<p>Probamos que funciona:</p>
<p><img src="/img/IAW-P7-T1.5.png" alt="IAW-P7-T1.5.png"></p>
<p>Una vez comprobado que se han aplicado los cambios correctamente y que accede, lo pasaremos a producción para ello haremos un docker push de la imagen:</p>
<pre class="language-txt"><code class="language-txt">usuario@debian:~/docker/practica/tarea5$ docker push alemd01/bookmedik:v1_2<br>The push refers to repository [docker.io/alemd01/bookmedik]<br>6462ef003814: Pushed <br>27aea5a6faf2: Pushed <br>610af938ab10: Pushed <br>61d7b4db50a6: Pushed <br>8e396a1aad50: Mounted from library/debian <br>v1_2: digest: sha256:21138d2ff768626704f6ef484d256dbddbec7b08b1ce63c75ebabab381adb75f size: 1366</code></pre>
<p>Ahora que nuestra imagen está lista, pasaremos a producción y lo que haremos será cambiar en el docker compose la versión. La línea queda igual que la anterior.</p>
<pre class="language-txt"><code class="language-txt">    image: alemd01/bookmedik:v1_2</code></pre>
<p>Levantamos el escenario:</p>
<pre class="language-txt"><code class="language-txt">root@nabil:/home/alemd/docker# docker-compose up -d<br>Pulling bookmedik (alemd01/bookmedik:v1_2)...<br>v1_2: Pulling from alemd01/bookmedik<br>1e4aec178e08: Downloading [>                                              1e4aec178e08: Downloading [>                                                  ]  1.081MB/55.05MBfs layer<br>dcb3cfc7cb33: Waiting<br>1e4aec178e08: Downloading [=>                                                 ]  2.163MB/55.05MB<br><br>1e4aec178e08: Downloading [===>                                               ]  3.783MB/55.05MB<br>1e4aec178e08: Downloading [======>                                        1e4aec178e08: Downloading [=============>                                 1e4aec178e08: Downloading [====================>                          1e4aec178e08: Downloading [==========================>                        ]  29.04MB/55.05MB<br>1e4aec178e08: Downloading [=================================>             1e4aec178e08: Downloading [========================================>      1e4aec178e08: Downloading [==============================================>    ]  51.52MB/55.05MB complete<br>1e4aec178e08: Download complete<br>1e4aec178e08: Extracting [>                                               1e4aec178e08: Extracting [==>                                                ]  2.785MB/55.05MBding [===============================================1e4aec178e08: Pull complete<br>b8fab135fbf3: Pull complete<br>2728d62bb111: Pull complete<br>dcb3cfc7cb33: Pull complete<br>71b3df28513f: Pull complete<br>Digest: sha256:21138d2ff768626704f6ef484d256dbddbec7b08b1ce63c75ebabab381adb75f<br>Status: Downloaded newer image for alemd01/bookmedik:v1_2<br>bd_mariadb is up-to-date<br>Recreating bookmedik-app ... done</code></pre>
<p>Accedemos nuevamente a <a href="https://bookmedik.alejandro-montes.es">https://bookmedik.alejandro-montes.es</a> y veremos los cambios aplicados:</p>
<p><img src="/img/IAW-P7-T1.6.png" alt="IAW-P7-T1.6.png"></p>
<p>Muestro que funciona después del login:</p>
<p><img src="/img/IAW-P7-T1.7.png" alt="IAW-P7-T1.7.png"></p>
<hr>
<h2 id="documento-realizado-por%3A" tabindex="-1"><strong>Documento realizado por:</strong></h2>
<p>✒️ <strong>Alejandro Montes Delgado</strong> - <em>2º ASIR</em></p>

        </div>
            <p class="uppercase text-xs mt-6">Siguiente post</p>
            <p class="font-bold mb-2">
                <a href="/post/ejercicios-de-k8s-v./">Ejercicios de K8s V.</a>
            </p>
        
            <p class="uppercase text-xs mt-6">Post anterior.</p>

            <p class="font-bold">
                <a href="/post/ldaps/">LDAPs</a>
            </p>
        
    </div>

    </main>
    <footer class="bg-gray-900 pb-10">
  <p class="block text-center text-sm mb-6">
    Built by
    <a target="_blank" href="https://github.com/reeseschultz">
      Reese Schultz
    </a>
  </p>

  <a class="block text-center text-sm" href="/privacy-policy">Privacy Policy</a>
</footer>
    <script src="https://unpkg.com/clipboard@2/dist/clipboard.min.js"></script>
    <script src="/assets/main.bundle.js"></script>
  </body>
</html>
